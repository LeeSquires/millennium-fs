{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../node_modules/.pnpm/@googlemaps+js-api-loader@1.15.1/node_modules/@googlemaps/js-api-loader/node_modules/fast-deep-equal/index.js", "../node_modules/.pnpm/@googlemaps+js-api-loader@1.15.1/node_modules/@googlemaps/js-api-loader/src/index.ts", "../src/utils/prices.json", "../src/index.ts"],
  "sourcesContent": ["new EventSource(`http://localhost:${SERVE_PORT}/esbuild`).addEventListener('change', () =>\n  location.reload()\n);\n", "'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", null, "[\n    { \"VanType\": \"Small\", \"PriceValue\": 1.35 },\n    { \"VanType\": \"Large\", \"PriceValue\": 1.45 },\n    { \"VanType\": \"Extra Large\", \"PriceValue\": 1.65 }\n]\n", "import { Loader } from '@googlemaps/js-api-loader';\n\nimport prices from './utils/prices.json';\n\nconst loader = new Loader({\n  apiKey: 'AIzaSyBSgmItIIkt7rADqH3GMEwVkAledYFipzw',\n  version: 'weekly',\n  libraries: ['places', 'geometry'],\n});\n\nloader.load().then(() => {\n  const map = new google.maps.Map(document.getElementById('map-target') as HTMLElement, {\n    center: { lat: 51.6842869, lng: -4.1673871 },\n    zoom: 8,\n  });\n\n  const directionsService = new google.maps.DirectionsService();\n  const directionsRenderer = new google.maps.DirectionsRenderer();\n\n  directionsRenderer.setMap(map);\n\n  // Set pickup and delivery fields\n  const pickup = document.getElementById('direct-from') as HTMLInputElement;\n  const delivery = document.getElementById('direct-to') as HTMLInputElement;\n\n  const options = {\n    fields: ['geometry', 'place_id'],\n    types: ['geocode'],\n    componentRestrictions: { country: 'gb' },\n  };\n\n  // Add autocomplete to the pick-up and deliver to fields\n  const pickupAutocomplete = new google.maps.places.Autocomplete(pickup, options);\n  const deliveryAutocomplete = new google.maps.places.Autocomplete(delivery, options);\n\n  const form = document.getElementById('get-quote-form') as HTMLFormElement;\n\n  // Add event listeners to selector cards\n  const vanSmall = document.getElementById('van-small') as HTMLElement;\n  const vanLarge = document.getElementById('van-large') as HTMLElement;\n  const vanExtraLarge = document.getElementById('van-extra-large') as HTMLElement;\n\n  let vanSmallActive = false;\n  let vanLargeActive = false;\n  let vanExtraLargeActive = false;\n\n  vanSmall.addEventListener('click', (e) => {\n    if (!vanSmallActive) {\n      vanSmallActive = true;\n      vanLargeActive = false;\n      vanExtraLargeActive = false;\n      console.log('small van active');\n    }\n  });\n\n  vanLarge.addEventListener('click', (e) => {\n    if (!vanLargeActive) {\n      vanLargeActive = true;\n      vanSmallActive = false;\n      vanExtraLargeActive = false;\n      console.log('medium van active');\n    }\n  });\n\n  vanExtraLarge.addEventListener('click', (e) => {\n    if (!vanExtraLargeActive) {\n      vanExtraLargeActive = true;\n      vanSmallActive = false;\n      vanLargeActive = false;\n      console.log('large van active');\n    }\n  });\n\n  // Check when form is submitted\n  form.addEventListener('submit', (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // Add autocomplete to form inputs\n    const pickupPlace = pickupAutocomplete.getPlace();\n    const deliveryPlace = deliveryAutocomplete.getPlace();\n\n    // Stop user from submitting request without autocomplete\n    if (!pickupPlace) {\n      window.alert('Please select a pick-up location from the dropdown list.');\n    } else if (!deliveryPlace) {\n      window.alert('Please select a delivery location from the dropdown list.');\n      return;\n    }\n\n    // Get distance using form input autocompletes\n    const service = new google.maps.DistanceMatrixService();\n    service.getDistanceMatrix(\n      {\n        origins: [pickupPlace.geometry?.location],\n        destinations: [deliveryPlace.geometry?.location],\n        travelMode: 'DRIVING',\n        unitSystem: google.maps.UnitSystem.IMPERIAL,\n      },\n      callback\n    );\n\n    function callback(response, status) {\n      if (status === 'OK') {\n        const origins = response.originAddresses;\n\n        for (let i = 0; i < origins.length; i++) {\n          const results = response.rows[i].elements;\n          for (let j = 0; j < results.length; j++) {\n            const element = results[j];\n            const distance = parseFloat(element.distance.text);\n\n            let quoteResult;\n\n            const currencyFormat = {\n              style: 'currency',\n              currency: 'GBP',\n            };\n\n            if (vanSmallActive) {\n              quoteResult = prices[0].PriceValue * distance;\n            } else if (vanLargeActive) {\n              quoteResult = prices[1].PriceValue * distance;\n            } else if (vanExtraLargeActive) {\n              quoteResult = prices[2].PriceValue * distance;\n            }\n\n            const formatQuote = quoteResult.toLocaleString('en-GB', currencyFormat);\n\n            const result = document.getElementById('quote-result') as HTMLElement;\n            result.innerHTML = formatQuote;\n\n            const quoteContainer = document.getElementById('quote-container') as HTMLElement;\n            quoteContainer.classList.remove('hide');\n          }\n        }\n      }\n    }\n\n    directionsService.route(\n      {\n        origin: { placeId: pickupPlace.place_id },\n        destination: { placeId: deliveryPlace.place_id },\n        travelMode: 'DRIVING',\n      },\n      (response, status) => {\n        if (status === 'OK') {\n          directionsRenderer.setDirections(response);\n        } else {\n          window.alert('Directions request failed due to ' + status);\n        }\n      }\n    );\n  });\n});\n"],
  "mappings": ";;;AAAA,MAAI,YAAY,oBAAoB,aAAoB,EAAE;AAAA,IAAiB;AAAA,IAAU,MACnF,SAAS,OAAO;AAAA,EAClB;;;ACIA,MAAA,gBAAiB,SAAS,MAAM,GAAG,GAAG;AACpC,QAAI,MAAM;AAAG,aAAO;AAEpB,QAAI,KAAK,KAAK,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU;AAC1D,UAAI,EAAE,gBAAgB,EAAE;AAAa,eAAO;AAE5C,UAAI,QAAQ,GAAG;AACf,UAAI,MAAM,QAAQ,CAAC,GAAG;AACpB,iBAAS,EAAE;AACX,YAAI,UAAU,EAAE;AAAQ,iBAAO;AAC/B,aAAK,IAAI,QAAQ,QAAQ;AACvB,cAAI,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAAG,mBAAO;AACjC,eAAO;MACb;AAII,UAAI,EAAE,gBAAgB;AAAQ,eAAO,EAAE,WAAW,EAAE,UAAU,EAAE,UAAU,EAAE;AAC5E,UAAI,EAAE,YAAY,OAAO,UAAU;AAAS,eAAO,EAAE,QAAO,MAAO,EAAE,QAAO;AAC5E,UAAI,EAAE,aAAa,OAAO,UAAU;AAAU,eAAO,EAAE,SAAQ,MAAO,EAAE,SAAQ;AAEhF,aAAO,OAAO,KAAK,CAAC;AACpB,eAAS,KAAK;AACd,UAAI,WAAW,OAAO,KAAK,CAAC,EAAE;AAAQ,eAAO;AAE7C,WAAK,IAAI,QAAQ,QAAQ;AACvB,YAAI,CAAC,OAAO,UAAU,eAAe,KAAK,GAAG,KAAK,CAAC,CAAC;AAAG,iBAAO;AAEhE,WAAK,IAAI,QAAQ,QAAQ,KAAI;AAC3B,YAAI,MAAM,KAAK,CAAC;AAEhB,YAAI,CAAC,MAAM,EAAE,GAAG,GAAG,EAAE,GAAG,CAAC;AAAG,iBAAO;MACzC;AAEI,aAAO;IACX;AAGE,WAAO,MAAI,KAAK,MAAI;EACtB;AClBO,MAAM,aAAa;MA6Jd;AAAZ,GAAA,SAAYA,eAAY;AACtB,IAAAA,cAAAA,cAAA,aAAA,IAAA,CAAA,IAAA;AACA,IAAAA,cAAAA,cAAA,SAAA,IAAA,CAAA,IAAA;AACA,IAAAA,cAAAA,cAAA,SAAA,IAAA,CAAA,IAAA;AACA,IAAAA,cAAAA,cAAA,SAAA,IAAA,CAAA,IAAA;EACF,GALY,iBAAA,eAKX,CAAA,EAAA;MAqBY,eAAM;;;;;;;;;;IA4EjB,YAAY,EACV,QACA,oBACA,SACA,QACA,KAAK,YACL,UACA,YAAY,CAAA,GACZ,QACA,OACA,QACA,UAAU,GACV,MAAM,2CACN,QAAO,GACO;AA9BR,WAAQ,WAAG;AACX,WAAS,YAAgC,CAAA;AACzC,WAAI,OAAG;AACP,WAAO,UAAG;AAEV,WAAM,SAAiB,CAAA;AA0B7B,WAAK,SAAS;AACd,WAAK,qBAAqB;AAC1B,WAAK,UAAU;AACf,WAAK,SAAS;AACd,WAAK,KAAK,MAAM;AAChB,WAAK,WAAW;AAChB,WAAK,YAAY;AACjB,WAAK,SAAS;AACd,WAAK,QAAQ;AACb,WAAK,SAAS;AACd,WAAK,UAAU;AACf,WAAK,MAAM;AACX,WAAK,UAAU;AAEf,UAAI,OAAO,UAAU;AACnB,YAAI,CAACC,cAAQ,KAAK,SAAS,OAAO,SAAS,OAAO,GAAG;AACnD,gBAAM,IAAI,MACR,2DAA2D,KAAK,UAC9D,KAAK,OAAO,SACL,KAAK,UAAU,OAAO,SAAS,OAAO,GAAG;QAErD;AAED,eAAO,OAAO;MACf;AAED,aAAO,WAAW;;IAGpB,IAAW,UAAO;AAChB,aAAO;QACL,SAAS,KAAK;QACd,QAAQ,KAAK;QACb,SAAS,KAAK;QACd,QAAQ,KAAK;QACb,IAAI,KAAK;QACT,WAAW,KAAK;QAChB,UAAU,KAAK;QACf,QAAQ,KAAK;QACb,QAAQ,KAAK;QACb,OAAO,KAAK;QACZ,KAAK,KAAK;QACV,oBAAoB,KAAK;;;IAI7B,IAAW,SAAM;AACf,UAAI,KAAK,OAAO,QAAQ;AACtB,eAAO,aAAa;MACrB;AACD,UAAI,KAAK,MAAM;AACb,eAAO,aAAa;MACrB;AACD,UAAI,KAAK,SAAS;AAChB,eAAO,aAAa;MACrB;AACD,aAAO,aAAa;;IAGtB,IAAY,SAAM;AAChB,aAAO,KAAK,QAAQ,CAAC,KAAK,WAAW,KAAK,OAAO,UAAU,KAAK,UAAU;;;;;;;IAQrE,YAAS;AACd,UAAI,MAAM,KAAK;AAEf,aAAO,aAAa,KAAK;AAEzB,UAAI,KAAK,QAAQ;AACf,eAAO,QAAQ,KAAK;MACrB;AAED,UAAI,KAAK,SAAS;AAChB,eAAO,YAAY,KAAK;MACzB;AAED,UAAI,KAAK,QAAQ;AACf,eAAO,WAAW,KAAK;MACxB;AAED,UAAI,KAAK,UAAU,SAAS,GAAG;AAC7B,eAAO,cAAc,KAAK,UAAU,KAAK,GAAG;MAC7C;AAED,UAAI,KAAK,UAAU;AACjB,eAAO,aAAa,KAAK;MAC1B;AAED,UAAI,KAAK,QAAQ;AACf,eAAO,WAAW,KAAK;MACxB;AAED,UAAI,KAAK,SAAS;AAChB,eAAO,MAAM,KAAK;MACnB;AAED,UAAI,KAAK,QAAQ;AACf,eAAO,YAAY,KAAK,OAAO,KAAK,GAAG;MACxC;AAED,UAAI,KAAK,oBAAoB;AAC3B,eAAO,yBAAyB,KAAK;MACtC;AAED,aAAO;;IAGF,eAAY;AACjB,YAAM,SAAS,SAAS,eAAe,KAAK,EAAE;AAC9C,UAAI,QAAQ;AACV,eAAO,OAAM;MACd;;;;;IAMI,OAAI;AACT,aAAO,KAAK,YAAW;;;;;;;IAQlB,cAAW;AAChB,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAU;AACrC,aAAK,aAAa,CAAC,QAAmB;AACpC,cAAI,CAAC,KAAK;AACR,oBAAQ,OAAO,MAAM;UACtB,OAAM;AACL,mBAAO,IAAI,KAAK;UACjB;QACH,CAAC;MACH,CAAC;;;;;IAMI,aAAa,IAA2B;AAC7C,WAAK,UAAU,KAAK,EAAE;AACtB,WAAK,QAAO;;;;;IAMN,YAAS;AACf,UAAI,SAAS,eAAe,KAAK,EAAE,GAAG;AAEpC,aAAK,SAAQ;AACb;MACD;AAED,YAAM,MAAM,KAAK,UAAS;AAC1B,YAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,aAAO,KAAK,KAAK;AACjB,aAAO,OAAO;AACd,aAAO,MAAM;AACb,aAAO,UAAU,KAAK,kBAAkB,KAAK,IAAI;AACjD,aAAO,QAAQ;AACf,aAAO,QAAQ;AAEf,UAAI,KAAK,OAAO;AACd,eAAO,QAAQ,KAAK;MACrB;AAED,eAAS,KAAK,YAAY,MAAM;;;;;IAM1B,QAAK;AACX,WAAK,aAAY;AACjB,WAAK,OAAO;AACZ,WAAK,UAAU;AACf,WAAK,SAAS,CAAA;AACd,WAAK,eAAe;;IAGd,wBAAqB;AAC3B,UAAI,KAAK,QAAQ;AACf,aAAK,MAAK;MACX;;IAGK,kBAAkB,GAAa;AACrC,WAAK,OAAO,KAAK,CAAC;AAElB,UAAI,KAAK,OAAO,UAAU,KAAK,SAAS;AACtC,cAAM,QAAQ,KAAK,OAAO,SAAS,KAAA,IAAA,GAAK,KAAK,OAAO,MAAM;AAE1D,gBAAQ,IACN,kDAAkD,WAAW;AAG/D,mBAAW,MAAK;AACd,eAAK,aAAY;AACjB,eAAK,UAAS;WACb,KAAK;MACT,OAAM;AACL,aAAK,eAAe;AACpB,aAAK,SAAQ;MACd;;IAGK,cAAW;AACjB,aAAO,uBAAuB,KAAK,SAAS,KAAK,IAAI;;IAG/C,WAAQ;AACd,WAAK,OAAO;AACZ,WAAK,UAAU;AAEf,WAAK,UAAU,QAAQ,CAAC,OAAM;AAC5B,WAAG,KAAK,YAAY;MACtB,CAAC;AAED,WAAK,YAAY,CAAA;;IAGX,UAAO;AACb,WAAK,sBAAqB;AAE1B,UAAI,KAAK,MAAM;AACb,aAAK,SAAQ;MACd,OAAM;AAEL,YAAI,OAAO,UAAU,OAAO,OAAO,QAAQ,OAAO,OAAO,KAAK,SAAS;AACrE,kBAAQ,KACN,sJAC2F;AAE7F,eAAK,SAAQ;AACb;QACD;AAED,YAAI,KAAK;AAAS;aAEX;AACL,eAAK,UAAU;AACf,eAAK,YAAW;AAChB,eAAK,UAAS;QACf;MACF;;EAEJ;;;AC3iBD;AAAA,IACI,EAAE,SAAW,SAAS,YAAc,KAAK;AAAA,IACzC,EAAE,SAAW,SAAS,YAAc,KAAK;AAAA,IACzC,EAAE,SAAW,eAAe,YAAc,KAAK;AAAA,EACnD;;;ACAA,MAAM,SAAS,IAAI,OAAO;AAAA,IACxB,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,WAAW,CAAC,UAAU,UAAU;AAAA,EAClC,CAAC;AAED,SAAO,KAAK,EAAE,KAAK,MAAM;AACvB,UAAM,MAAM,IAAI,OAAO,KAAK,IAAI,SAAS,eAAe,YAAY,GAAkB;AAAA,MACpF,QAAQ,EAAE,KAAK,YAAY,KAAK,WAAW;AAAA,MAC3C,MAAM;AAAA,IACR,CAAC;AAED,UAAM,oBAAoB,IAAI,OAAO,KAAK,kBAAkB;AAC5D,UAAM,qBAAqB,IAAI,OAAO,KAAK,mBAAmB;AAE9D,uBAAmB,OAAO,GAAG;AAG7B,UAAM,SAAS,SAAS,eAAe,aAAa;AACpD,UAAM,WAAW,SAAS,eAAe,WAAW;AAEpD,UAAM,UAAU;AAAA,MACd,QAAQ,CAAC,YAAY,UAAU;AAAA,MAC/B,OAAO,CAAC,SAAS;AAAA,MACjB,uBAAuB,EAAE,SAAS,KAAK;AAAA,IACzC;AAGA,UAAM,qBAAqB,IAAI,OAAO,KAAK,OAAO,aAAa,QAAQ,OAAO;AAC9E,UAAM,uBAAuB,IAAI,OAAO,KAAK,OAAO,aAAa,UAAU,OAAO;AAElF,UAAM,OAAO,SAAS,eAAe,gBAAgB;AAGrD,UAAM,WAAW,SAAS,eAAe,WAAW;AACpD,UAAM,WAAW,SAAS,eAAe,WAAW;AACpD,UAAM,gBAAgB,SAAS,eAAe,iBAAiB;AAE/D,QAAI,iBAAiB;AACrB,QAAI,iBAAiB;AACrB,QAAI,sBAAsB;AAE1B,aAAS,iBAAiB,SAAS,CAAC,MAAM;AACxC,UAAI,CAAC,gBAAgB;AACnB,yBAAiB;AACjB,yBAAiB;AACjB,8BAAsB;AACtB,gBAAQ,IAAI,kBAAkB;AAAA,MAChC;AAAA,IACF,CAAC;AAED,aAAS,iBAAiB,SAAS,CAAC,MAAM;AACxC,UAAI,CAAC,gBAAgB;AACnB,yBAAiB;AACjB,yBAAiB;AACjB,8BAAsB;AACtB,gBAAQ,IAAI,mBAAmB;AAAA,MACjC;AAAA,IACF,CAAC;AAED,kBAAc,iBAAiB,SAAS,CAAC,MAAM;AAC7C,UAAI,CAAC,qBAAqB;AACxB,8BAAsB;AACtB,yBAAiB;AACjB,yBAAiB;AACjB,gBAAQ,IAAI,kBAAkB;AAAA,MAChC;AAAA,IACF,CAAC;AAGD,SAAK,iBAAiB,UAAU,CAAC,MAAM;AACrC,QAAE,eAAe;AACjB,QAAE,gBAAgB;AAGlB,YAAM,cAAc,mBAAmB,SAAS;AAChD,YAAM,gBAAgB,qBAAqB,SAAS;AAGpD,UAAI,CAAC,aAAa;AAChB,eAAO,MAAM,0DAA0D;AAAA,MACzE,WAAW,CAAC,eAAe;AACzB,eAAO,MAAM,2DAA2D;AACxE;AAAA,MACF;AAGA,YAAM,UAAU,IAAI,OAAO,KAAK,sBAAsB;AACtD,cAAQ;AAAA,QACN;AAAA,UACE,SAAS,CAAC,YAAY,UAAU,QAAQ;AAAA,UACxC,cAAc,CAAC,cAAc,UAAU,QAAQ;AAAA,UAC/C,YAAY;AAAA,UACZ,YAAY,OAAO,KAAK,WAAW;AAAA,QACrC;AAAA,QACA;AAAA,MACF;AAEA,eAAS,SAAS,UAAU,QAAQ;AAClC,YAAI,WAAW,MAAM;AACnB,gBAAM,UAAU,SAAS;AAEzB,mBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACvC,kBAAM,UAAU,SAAS,KAAK,CAAC,EAAE;AACjC,qBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACvC,oBAAM,UAAU,QAAQ,CAAC;AACzB,oBAAM,WAAW,WAAW,QAAQ,SAAS,IAAI;AAEjD,kBAAI;AAEJ,oBAAM,iBAAiB;AAAA,gBACrB,OAAO;AAAA,gBACP,UAAU;AAAA,cACZ;AAEA,kBAAI,gBAAgB;AAClB,8BAAc,eAAO,CAAC,EAAE,aAAa;AAAA,cACvC,WAAW,gBAAgB;AACzB,8BAAc,eAAO,CAAC,EAAE,aAAa;AAAA,cACvC,WAAW,qBAAqB;AAC9B,8BAAc,eAAO,CAAC,EAAE,aAAa;AAAA,cACvC;AAEA,oBAAM,cAAc,YAAY,eAAe,SAAS,cAAc;AAEtE,oBAAM,SAAS,SAAS,eAAe,cAAc;AACrD,qBAAO,YAAY;AAEnB,oBAAM,iBAAiB,SAAS,eAAe,iBAAiB;AAChE,6BAAe,UAAU,OAAO,MAAM;AAAA,YACxC;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,wBAAkB;AAAA,QAChB;AAAA,UACE,QAAQ,EAAE,SAAS,YAAY,SAAS;AAAA,UACxC,aAAa,EAAE,SAAS,cAAc,SAAS;AAAA,UAC/C,YAAY;AAAA,QACd;AAAA,QACA,CAAC,UAAU,WAAW;AACpB,cAAI,WAAW,MAAM;AACnB,+BAAmB,cAAc,QAAQ;AAAA,UAC3C,OAAO;AACL,mBAAO,MAAM,sCAAsC,MAAM;AAAA,UAC3D;AAAA,QACF;AAAA,MACF;AAAA,IACF,CAAC;AAAA,EACH,CAAC;",
  "names": ["LoaderStatus", "isEqual"]
}
